{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6d237b89080daae0539c","webpack:///./src/Modal.js","webpack:///./src/Dom.js","webpack:///./src/Template.js","webpack:///./src/templates/default/config.js"],"names":["overlay","modal","close","content","config","initialize","Object","assign","container","document","body","eventsNamespace","template","data","elements","references","listeners","create","contents","runDefault","setVisible","visible","length","action","methods","args","unshift","isVisible","setFlags","dispatchEvent","appendHtml","render","forEach","element","defineProperty","value","addListener","hide","get","e","target","dataset","resizeTimer","clearTimeout","setTimeout","relocate","window","hasEvents","events","ev","map","getByAttr","selector","parent","filter","isElement","result","type","dispatcher","name","listener","removeEventListener","removeChild","el","getSubElement","smallHeight","smallWidth","set","innerHeight","offsetHeight","parseInt","matchMedia","matches","addEventListener","push","detail","nameWithNamespace","instance","targetElements","l","Set","event","dispatch","innerHTML","undefined","stringToElements","html","createElement","children","appendElements","elementsCopy","Array","from","fragment","createDocumentFragment","appendChild","querySelectorAll","getSiblings","parentNode","isEqualNode","sibling","nodeType","Node","ELEMENT_NODE","style","property","setProperty","remove","removeProperty","CustomEvent","constructor","build","tpl","replace","m","key","hasOwnProperty","class","outsideClose"],"mappings":"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","file":"modi.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Modi\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Modi\"] = factory();\n\telse\n\t\troot[\"Modi\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6d237b89080daae0539c","import Dom from './Dom';\nimport Template from './Template';\nimport templateDefaultConfig from './templates/default/config.js';\n\nconst overlay = 'overlay';\nconst modal = 'modal';\nconst close = 'close';\nconst content = 'content';\n\nexport default class {\n  constructor(config = {}, initialize = true) {\n    // Modal config\n    this.config = Object.assign({\n      container: document.body,\n      eventsNamespace: 'modal',\n      content: null,\n      template: null,\n      data: Object.assign({}, config.data)\n    }, config);\n\n    // Template\n    this.template = new Template(this.config.template || templateDefaultConfig, this.config.data);\n\n    // Dom config\n    Dom.container = this.config.container;\n\n    // Storage of modal elements\n    this.elements = [];\n    this.references = {};\n    // Storage of modal listeners\n    this.listeners = [];\n\n    if (initialize !== false) {\n      this.create(this.config.content);\n    }\n  }\n\n  /**\n   * Get modal content.\n   * @return {string|undefined}\n   */\n  get content() {\n    return this.element(content) ?\n      this.element(content).innerHTML :\n      undefined;\n  }\n\n  /**\n   * Set modal content.\n   * @param {string} contents Modal new content.\n   */\n  set content(contents) {\n    if (contents && this.element(content)) {\n      this.element(content).innerHTML = contents;\n    }\n  }\n\n  /**\n   * Show modal.\n   * @param {string} contents Modal content.\n   * @param {boolean} runDefault \"true\" runs default method, \"false\" the template's one.\n   */\n  show(contents, runDefault) {\n    this.setVisible(true, runDefault, contents);\n  }\n\n  /**\n   * Hide modal.\n   * @param {boolean} runDefault \"true\" runs default method, \"false\" the template's one.\n   */\n  hide(runDefault) {\n    this.setVisible(false, runDefault);\n  }\n\n  /**\n   * Show modal.\n   * @param {boolean} visible Visible state.\n   * @param {boolean} runDefault \"true\" runs default method, \"false\" the template's one.\n   * @param {string} contents Modal content.\n   */\n  setVisible(visible, runDefault, contents) {\n    if (this.elements.length) {\n      let action = (visible === true) ? 'show' : 'hide';\n      // By default, try to run template's method\n      if (runDefault !== true && this.template.methods[action]) {\n        let args = [this];\n        if (action === 'show') {\n          args.unshift(contents);\n        }\n        this.template.methods[action](...args);\n      } else if (visible !== this.isVisible()) {\n        if (action === 'show' && contents) {\n          this.content = contents;\n        }\n        this.setFlags(visible);\n        this.dispatchEvent(action);\n      }\n    }\n  }\n\n  /**\n   * Relocate modal.\n   */\n  relocate() {\n    if (this.isVisible()) {\n      this.setFlags();\n      this.dispatchEvent('relocate');\n    }\n  }\n\n  /**\n   * Create modal.\n   * @param {string} contents Modal content.\n   */\n  create(contents = '') {\n    if (!this.elements.length) {\n      // Append modal and store its elements.\n      this.elements = Dom.appendHtml(this.template.render());\n\n      // Store instance reference inside parent template elements\n      this.elements.forEach((element) => {\n        Object.defineProperty(element, '_Modi', { value: this });\n      });\n\n      // Set content\n      this.content = contents;\n\n      // Close element handler\n      if (this.element(close)) {\n        this.addListener('click', () => {\n          this.hide();\n        }, this.element(close));\n      }\n\n      // Overlay close handler\n      if (Dom.data.get(this.element(overlay), 'outsideClose') === 'true') {\n        this.addListener('click', (e) => {\n          if (e.target.dataset.element === 'overlay') {\n            this.hide();\n          }\n        }, this.element(overlay));\n      }\n\n      // Window resize handler for modal relocation\n      this.resizeTimer = null;\n      this.addListener('resize', () => {\n        clearTimeout(this.resizeTimer);\n        this.resizeTimer = setTimeout(() => {\n          this.relocate();\n        }, 300);\n      }, window);\n\n      // Template events\n      if (this.template.hasEvents()) {\n        // Add listeners to dispatch custom events\n        this.template.events.forEach((ev) => {\n          let element = this.elements\n            .map(parent => Dom.getByAttr(ev.selector, parent)[0])\n            .filter(result => Dom.isElement(result))[0];\n          if (element) {\n            this.addListener(ev.type, () => {\n              // Check for custom element dispatcher\n              if (ev.dispatcher === 'instance') {\n                element = this.elements[0];\n              } else if (ev.dispatcher && this.element(ev.dispatcher)) {\n                element = this.element(ev.dispatcher);\n              }\n              this.dispatchEvent(ev.name, {}, element);\n            }, element);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * Remove modal.\n   */\n  remove() {\n    this.hide();\n    // Remove listeners.\n    this.listeners.forEach((listener) => {\n      listener.element.removeEventListener(listener.type, listener.listener);\n    });\n    // Remove elements from DOM.\n    this.elements.forEach((element) => {\n      Dom.container.removeChild(element);\n    });\n    // Clean references\n    this.listeners = [];\n    this.elements = [];\n    this.references = {};\n  }\n\n  /**\n   * Check if the modal is visible.\n   */\n  isVisible() {\n    return (Dom.data.get(this.element(modal), 'visible') === 'true');\n  }\n\n  /**\n   * Searches the specified element.\n   * @param {string} name Element name.\n   * @return {Element|undefined}\n   */\n  element(name) {\n    if (!this.references[name]) {\n      this.references[name] =\n        // Search it inside the \"parents\" collection.\n        this.elements.filter((el) => el.dataset.element === name)[0] ||\n        // Search it inside each \"parent\" element.\n        this.elements.map((el) => this.getSubElement(name, el))[0];\n    }\n    return this.references[name];\n  }\n\n  /**\n   * Searches the specified element inside a parent.\n   * @param {string} name Element name.\n   * @param {Element} parent Parent element.\n   * @return {Element|undefined}\n   */\n  getSubElement(name, parent) {\n    return Dom.getByAttr(`[data-element=\"${name}\"]`, parent)[0];\n  }\n\n  /**\n   * Set modal flags.\n   */\n  setFlags(visible = this.isVisible()) {\n    let smallHeight = false;\n    let smallWidth = false;\n\n    [overlay, modal].forEach((element) => {\n      Dom.data.set(this.element(element), 'visible', visible);\n    });\n    Dom.data.set(Dom.container, 'modalVisible', visible);\n\n    if (this.element(modal)) {\n      smallHeight = window.innerHeight < this.element(modal).offsetHeight;\n      smallWidth = parseInt(this.element(modal).dataset.smallWidth || 0, 10);\n      smallWidth = (smallWidth > 0 && window.matchMedia(`(max-width: ${smallWidth}px)`).matches);\n    }\n\n    [overlay, modal].forEach((element) => {\n      Dom.data.set(this.element(element), 'smallHeightFlag', smallHeight);\n      Dom.data.set(this.element(element), 'smallWidthFlag', smallWidth);\n    });\n  }\n\n  /**\n   * Adds specified event listener and stores it inside listeners collection.\n   * @param {string} type Event type.\n   * @param {function|EventListener} listener Event handler.\n   * @param {Element} element Target element.\n   */\n  addListener(type, listener, element = this.elements[0]) {\n    if (Dom.isElement(element) || element === window) {\n      element.addEventListener(type, listener);\n      this.listeners.push({\n        element: element,\n        type: type,\n        listener: listener\n      });\n    }\n  }\n\n  /**\n   * Dispatch custom envent.\n   * @param {string} name Event name.\n   * @param {object} detail Event detail data.\n   * @param {Element} element Target element.\n   */\n  dispatchEvent(name, detail, element = this.elements[0]) {\n    let nameWithNamespace = `${this.config.eventsNamespace}:${name}`;\n    detail = Object.assign({\n      instance: this,\n      overlay: this.element(overlay),\n      modal: this.element(modal)\n    }, detail);\n\n    // Run template's event.\n    if (this.template.listeners[name]) {\n      this.template.listeners[name](detail);\n    }\n\n    // Determine target elements.\n    let targetElements = element ?\n      [element] :\n      this.listeners.filter(l => l.type === nameWithNamespace).map(l => l.element);\n\n    if (targetElements.length) {\n      // Dispatch custom event ignoring repeated targets.\n      (new Set(targetElements)).forEach((target) => {\n        Dom.event.dispatch(target, nameWithNamespace, detail);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Modal.js","export default {\n\n  container: document.body,\n\n  /**\n   * Converts html string into elements.\n   * @param {string} html HTML content.\n   * @return {HTMLCollection} Elements collection.\n   */\n  stringToElements(html) {\n    let element = document.createElement('div');\n\n    element.innerHTML = html;\n    return element.children;\n  },\n\n  /**\n   * Append elements to DOM.\n   * @param {Array} elements Elements collection.\n   * @param {Element} container Element container.\n   * @return {Array|undefined} Elements collection.\n   */\n  appendElements(elements, container = this.container) {\n    if (this.isElement(container)) {\n      let elementsCopy = Array.from(elements);\n      let fragment = document.createDocumentFragment();\n\n      Array.from(elements).forEach((element) => {\n        fragment.appendChild(element);\n      });\n      container.appendChild(fragment);\n      return elementsCopy;\n    }\n  },\n\n  /**\n   * Append HTML string to DOM.\n   * @param {string} html HTML content.\n   * @param {Element} container Element container.\n   * @return {Array|undefined} Elements collection.\n   */\n  appendHtml(html, container) {\n    return this.appendElements(this.stringToElements(html), container);\n  },\n\n  /**\n   * Get elements by attr selector.\n   * @param {string} selector Selector.\n   * @param {Element} container Element container.\n   * @return {NodeList|undefined}\n   */\n  getByAttr(selector, container = this.container) {\n    if (this.isElement(container)) {\n      return container.querySelectorAll(selector);\n    }\n  },\n\n  /**\n   * Get element siblings.\n   * @param {Element} element Element.\n   * @return {array} Siblings.\n   */\n  getSiblings(element) {\n    return this.isElement(element) ?\n      Array.from(element.parentNode.children).filter(sibling => element.isEqualNode(sibling) === false) :\n      [];\n  },\n\n  /**\n   * Checks for an element node.\n   * @param {Element} element Element.\n   * @return {boolean}\n   */\n  isElement(element) {\n    return element !== null &&\n      typeof element === 'object' &&\n      element.nodeType === Node.ELEMENT_NODE;\n  },\n\n  get style() {\n    return {\n      parent: this,\n\n      /**\n       * Set style property.\n       * @param {Element} element Element.\n       * @param {DOMString} property Style property.\n       * @param {DOMString} value Property value.\n       */\n      set(element, property, value) {\n        if (this.parent.isElement(element)) {\n          element.style.setProperty(property, value);\n        }\n      },\n\n      /**\n       * Remove style property.\n       * @param {Element} element Element.\n       * @param {DOMString} property Style property.\n       */\n      remove(element, property) {\n        if (this.parent.isElement(element)) {\n          element.style.removeProperty(property);\n        }\n      }\n    };\n  },\n\n  get event() {\n    return {\n      parent: this,\n\n      /**\n       * Dispatch custom envent.\n       * @param {Element} element Target element.\n       * @param {string} name Event name.\n       * @param {object} data Event detail data.\n       */\n      dispatch(element, name, data) {\n        if (this.parent.isElement(element)) {\n          element.dispatchEvent(new CustomEvent(name, {\n            detail: data\n          }));\n        }\n      }\n    };\n  },\n\n  get data() {\n    return {\n      parent: this,\n\n      /**\n       * Get data attribute.\n       * @param {Element} element Element.\n       * @param {string} name Attribute.\n       * @return {string|undefined}\n       */\n      get(element, name) {\n        if (this.parent.isElement(element)) {\n          return element.dataset[name];\n        }\n      },\n\n      /**\n       * Set data attribute.\n       * @param {Element} element Element.\n       * @param {string} name Attribute.\n       * @param {string} value Value.\n       */\n      set(element, name, value) {\n        if (this.parent.isElement(element)) {\n          element.dataset[name] = value;\n        }\n      }\n    };\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Dom.js","export default class {\n  constructor(config, data) {\n    this.html = config.html || '';\n    this.data = Object.assign({}, config.data, data);\n    this.events = config.events || {};\n    this.listeners = config.listeners || {};\n    this.methods = config.methods || {};\n  }\n\n  /**\n   * Check if the template has events.\n   * @return {boolean}\n   */\n  hasEvents() {\n    return (\n      this.events.constructor === [].constructor &&\n      this.events.length\n    );\n  }\n\n  /**\n   * Render main template.\n   * @return {string}\n   */\n  render() {\n    return this.build(this.html, this.data);\n  }\n\n  /**\n   * Make template replacements.\n   * Source: Kristof Neirynck @ https://stackoverflow.com/a/378000\n   * @param {string} tpl Template.\n   * @param {object} data Replacements.\n   * @return {string}\n   */\n  build(tpl, data) {\n    return tpl.replace(/{([^{}]+)}/g, function(m, key) {\n      return data.hasOwnProperty(key) ? data[key] : '';\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Template.js","export default {\n\n  html: `\n  <div class=\"{class}\" data-element=\"overlay\" data-visible=\"false\" data-outside-close=\"{outsideClose}\">\n    <div data-element=\"modal\" data-small-width=\"500\">\n      <span data-element=\"close\">×</span>\n      <div data-element=\"content\"></div>\n    </div>\n  </div>\n  `,\n\n  data: {\n    class: 'modi',\n    outsideClose: true\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/default/config.js"],"sourceRoot":""}